# 현재 활성 컨텍스트

## 프로젝트 현재 상태

**단계**: Task Master 프로젝트 초기화 및 태스크 생성 완료 **날짜**: 2024년 현재 **상태**: Phase 1
시작 준비 완료

## 최근 의사결정

### ✅ 확정된 기술 선택

- **BaaS 선택**: Supabase (PostgreSQL 호환성, 비용 효율성, 오픈소스)
- **모노레포 구조**: Yarn Workspaces 기반
- **국내 결제**: 토스페이먼츠 또는 아임포트
- **배달비/수수료**: 환경 변수로 관리하는 설정 기반 시스템
- **AI 모델**: DeepSeek Chat v3 (무료) - OpenRouter 경유

### ⏸️ 보류된 결정사항

- **배포 인프라**: Vercel vs AWS vs 자체서버 (Phase 4에서 결정)
- **지도 서비스**: Google Maps vs Naver Maps (개발 중 테스트 후 결정)
- **ORM 선택**: Prisma vs TypeORM (개발 편의성 검증 후 결정)

## Task Master 활용 현황

### ✅ 완료된 작업

- **Task Master 프로젝트 초기화**: 성공적으로 완료
- **PRD 작성**: 상세한 요구사항 문서 작성 완료
- **태스크 생성**: 33개 태스크 체계적으로 생성
  - Phase 1: 8개 태스크 (기반 구축)
  - Phase 2: 13개 태스크 (MVP 핵심 기능)
  - Phase 3: 8개 태스크 (고급 기능)
  - Phase 4: 4개 태스크 (배포 및 최적화)

### 📊 태스크 구조 분석

- **총 태스크**: 33개
- **의존성 관계**: 체계적으로 설정됨
- **우선순위**: High/Medium/Low로 분류
- **테스트 전략**: 각 태스크별 검증 방법 정의

## 즉시 수행할 작업 (우선순위순)

### 🎯 다음 태스크: Task #1 - 개발 환경 설정

**상세 내용**:

- Yarn Workspaces 기반 모노레포 구조 생성
- Docker Compose 설정
- 기본 패키지 설치 및 설정 파일 구성

**테스트 전략**:

- 로컬 개발 환경에서 모든 프로젝트가 정상적으로 빌드되고 실행되는지 확인

### 📋 Task Master 워크플로우

1. **태스크 시작**: `set_task_status --id=1 --status=in-progress`
2. **세부 계획 수립**: 태스크를 서브태스크로 분해
3. **구현 진행**: 단계별 구현 및 진행 상황 업데이트
4. **완료 처리**: `set_task_status --id=1 --status=done`

## 현재 작업 포커스

### 핵심 질문 및 고려사항

1. **모노레포 구조**:

   - apps/ (web, mobile, api)
   - packages/ (shared, ui, database)
   - tools/ (scripts, config)

2. **Docker 환경**:

   - PostgreSQL 15+ 컨테이너
   - Redis 7+ 컨테이너
   - Adminer 관리 도구

3. **개발 도구 설정**:
   - TypeScript 설정 통합
   - ESLint/Prettier 공통 설정
   - 빌드 스크립트 최적화

## 개발 진행 전략

### Phase 1 목표 (1-2주)

- 완전한 개발 환경 구축
- 모든 프로젝트 기본 구조 생성
- 데이터베이스 스키마 설계 완료
- Supabase 연동 완료

### 성공 기준

- 모든 앱이 로컬에서 정상 실행
- 데이터베이스 연결 및 기본 CRUD 동작
- 공통 타입 및 유틸리티 사용 가능

## 위험 요소 및 대응

### 기술적 위험

- **모노레포 복잡성** → 단계적 구축, 문서화 강화
- **Supabase 연동 이슈** → 로컬 개발 환경 우선 구축
- **타입 공유 문제** → 명확한 패키지 구조 설계

### 프로젝트 위험

- **범위 확장** → Task Master로 엄격한 태스크 관리
- **기술 선택 변경** → 의사결정 문서화 및 검증 과정

## 다음 단계 예상

### 즉시 (오늘)

- Task #1 시작: 개발 환경 설정
- 모노레포 기본 구조 생성

### 단기 (이번 주)

- Docker 환경 완성
- Next.js, Expo, Nest.js 프로젝트 초기화
- Supabase 프로젝트 설정

### 중기 (다음 주)

- 데이터베이스 스키마 설계
- 공통 타입 패키지 작성
- Phase 2 진입 준비

## 현재 차단 요소 및 의존성

### 🚫 차단 요소

- 없음 (현재 진행 가능)

### 🔗 외부 의존성

- Supabase 계정 생성 및 프로젝트 설정 필요
- PG사 개발자 계정 및 API 키 발급 (개발 후반)
- 지도 API 키 발급 (실시간 기능 개발 시)

## 기술적 고려사항

### 성능 최적화 포인트

- 데이터베이스 인덱싱 전략 (위치 기반 검색)
- 실시간 연결 수 최적화 (WebSocket 풀링)
- 이미지 최적화 및 CDN 활용

### 보안 고려사항

- 사용자 위치 정보 보호
- 결제 정보 암호화
- API Rate Limiting 설정
- 민감 정보 로깅 방지

## 팀 커뮤니케이션

### 의사결정 필요 항목

1. **개발 일정 조율**: 각 Phase별 세부 일정
2. **책임 분담**: 프론트엔드/백엔드/모바일 담당 영역
3. **코드 리뷰 프로세스**: 리뷰어 배정 및 승인 기준

### 정기 체크포인트

- **주간 진행상황 리뷰**: 매주 금요일
- **Phase별 중간 점검**: 각 Phase 50% 완료 시점
- **기술적 이슈 에스컬레이션**: 즉시 (Slack/Discord)

## 메모 및 참고사항

### 유용한 참고 자료

- [Supabase 공식 문서](https://supabase.com/docs)
- [Nest.js 공식 가이드](https://nestjs.com/)
- [Next.js App Router 문서](https://nextjs.org/docs/app)
- [Expo 개발 가이드](https://docs.expo.dev/)

### 학습해야 할 기술

- Supabase Realtime API 사용법
- Socket.io 클러스터링
- React Query 고급 패턴
- Expo 위치 서비스 최적화

### 잠재적 기술 부채

- 초기 데이터베이스 설계의 확장성
- 모노레포 빌드 시간 최적화
- 실시간 기능의 메모리 사용량
- 모바일 앱 성능 최적화

---

**마지막 업데이트**: Memory Bank 구축 완료, Task Master 기반 세부 계획 수립 진행 예정
